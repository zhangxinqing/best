(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main_page/video/index"],{"0339":function(t,i,e){"use strict";e.r(i);var n=e("9ddd"),o=e("a103");for(var a in o)"default"!==a&&function(t){e.d(i,t,function(){return o[t]})}(a);e("9006");var r=e("2877"),c=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"201a0942",null);i["default"]=c.exports},"074b":function(t,i,e){},9006:function(t,i,e){"use strict";var n=e("074b"),o=e.n(n);o.a},"9ddd":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement;t._self._c},o=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return o})},a103:function(t,i,e){"use strict";e.r(i);var n=e("d7bf"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,function(){return n[t]})}(a);i["default"]=o.a},d7bf:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return s(t)||c(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}function u(t,i,e,n,o,a,r){try{var c=t[a](r),s=c.value}catch(u){return void e(u)}c.done?i(s):Promise.resolve(s).then(n,o)}function h(t){return function(){var i=this,e=arguments;return new Promise(function(n,o){var a=t.apply(i,e);function r(t){u(a,n,o,r,c,"next",t)}function c(t){u(a,n,o,r,c,"throw",t)}r(void 0)})}}var l={data:function(){return{videoCtx:null,listTouchStartY:0,listTouchDirection:null,containerStyle:"",sysheight:0,distance:0,scroll:!1,id:0,videoList:[{src:"https://dcloud-img.oss-cn-hangzhou.aliyuncs.com/guide/uniapp/%E7%AC%AC1%E8%AE%B2%EF%BC%88uni-app%E4%BA%A7%E5%93%81%E4%BB%8B%E7%BB%8D%EF%BC%89-%20DCloud%E5%AE%98%E6%96%B9%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B@20181126.mp4",content:"456",flag:!1,check:!1,avater:"../../static/logo.png"},{src:"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=167057&resourceType=video&editionType=default&source=aliyun&playUrlType=url_oss",content:"123",flag:!1,check:!0,avater:"http://img.kaiyanapp.com/255365dbfc2622930eb0cdb33e43abf0.jpeg?imageMogr2/quality/60/format/jpg"},{src:"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=167805&resourceType=video&editionType=default&source=aliyun&playUrlType=url_oss",content:"789",flag:!1,check:!1,avater:"http://img.kaiyanapp.com/255365dbfc2622930eb0cdb33e43abf0.jpeg?imageMogr2/quality/60/format/jpg"}]}},onLoad:function(){this.sysheight=t.getSystemInfoSync().windowHeight},mounted:function(){var i=h(n.default.mark(function i(){var e,o=this;return n.default.wrap(function(i){while(1)switch(i.prev=i.next){case 0:e=t.getSubNVueById("concat"),e.show("slide-in-left",100,function(){t.$on("ListTouchStart",function(t){o.listTouchStartY=t.changedTouches[0].pageY}),t.$on("ListTouchMove",function(t){o.ListTouchMoveY(t.changedTouches[0].pageY)}),t.$on("ListTouchEnd",function(){o.ListTouchEnd()}),t.$on("tapLove",function(){o.scroll||o.tapLove()}),t.$on("tapMsg",function(){o.scroll||o.tapMsg()}),t.$on("tapShare",function(){o.scroll||o.tapShare()}),t.$on("tapCover",function(){o.scroll||o.videoPlay(o.id)}),t.$on("tapAvater",function(){o.scroll||o.tapAvater()})});case 2:case"end":return i.stop()}},i,this)}));function e(){return i.apply(this,arguments)}return e}(),methods:{pushVideoList:function(){var i=this,e=new Promise(function(e,n){t.request({url:"https://api.apiopen.top/videoRecommend?id=127397",success:function(t){var n=[],o=!0,r=!1,c=void 0;try{for(var s,u=t.data.result[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var h=s.value;"videoSmallCard"==h.type&&n.length<3&&n.push({src:h.data.playUrl,content:h.data.description,flag:!1,check:!1,avater:h.data.author.icon})}}catch(l){r=!0,c=l}finally{try{o||null==u.return||u.return()}finally{if(r)throw c}}i.videoList=[].concat(a(i.videoList),n),e()}})});return e},tapLove:function(){this.videoList[this.id].check=!this.videoList[this.id].check,this.videoList=a(this.videoList)},tapAvater:function(){t.showToast({icon:"none",title:"点击索引为".concat(this.id,"的头像")})},tapMsg:function(){t.showToast({icon:"none",title:"查看索引为".concat(this.id,"的评论")})},tapShare:function(){t.showToast({icon:"none",title:"分享索引为".concat(this.id,"的视频")})},ListTouchStart:function(t){this.listTouchStartY=t.touches[0].pageY},ListTouchMove:function(t){this.ListTouchMoveY(t.touches[0].pageY)},ListTouchMoveY:function(t){this.listTouchDirection=this.listTouchStartY-t>80?-1:0,this.listTouchDirection=t-this.listTouchStartY>80?1:this.listTouchDirection;var i=this.distance+t-this.listTouchStartY;i>0||(this.containerStyle="transform:translate3d(0, ".concat(i,"px, 0)"),this.listTouchStartY-t<10&&this.listTouchStartY-t>-10&&(this.listTouchDirection=null))},ListTouchEnd:function(){var i=h(n.default.mark(function i(e){var o,a;return n.default.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(!this.scroll){i.next=2;break}return i.abrupt("return");case 2:if(o=this.id,o==this.videoList.length-2&&this.pushVideoList(),this.listTouchDirection||0==this.listTouchDirection){i.next=6;break}return i.abrupt("return");case 6:if(a=this.listTouchDirection*this.sysheight+this.distance,!(a>0||a<-this.sysheight*(this.videoList.length-1))){i.next=9;break}return i.abrupt("return");case 9:return this.videoCtx=t.createVideoContext("video_".concat(o)),this.videoList[o].flag=!this.videoList[o].flag,this.videoCtx.pause(),i.next=14,this.animate(a,this.listTouchDirection);case 14:this.videoCtx=t.createVideoContext("video_".concat(o-this.listTouchDirection)),this.videoList[o-this.listTouchDirection].flag=!this.videoList[o-this.listTouchDirection].flag,this.videoCtx.play(),this.id=this.id-this.listTouchDirection,this.listTouchDirection=null;case 19:case"end":return i.stop()}},i,this)}));function e(t){return i.apply(this,arguments)}return e}(),videoPlay:function(i){this.videoList[i].flag?(this.videoCtx=t.createVideoContext("video_".concat(i)),this.videoCtx.pause()):(this.videoCtx=t.createVideoContext("video_".concat(i)),this.videoCtx.play()),this.videoList[i].flag=!this.videoList[i].flag},animate:function(t,i){var e=this,n=this.distance,o=new Promise(function(o,a){e.scroll=!0;var r=setInterval(function(){-1===i&&t<n||1===i&&t>n?(n+=50*i,e.containerStyle="transform:translate3d(0, ".concat(n,"px, 0)")):(clearInterval(r),n=t,e.distance=t,e.containerStyle="transform:translate3d(0, ".concat(n,"px, 0)"),e.scroll=!1,o())},50)});return o}}};i.default=l}).call(this,e("6e42")["default"])}},[["07b3","common/runtime","common/vendor"]]]);